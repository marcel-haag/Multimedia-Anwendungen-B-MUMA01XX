<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf−8"/>
        <title>Maxit</title>
    </head>
    <body>
        <h1>Maxit</h1>
        <div id="app">
            Score Player 1: {{ scorePlayer1 }} <br>
            Score Player 2: {{ scorePlayer2 }} <br><br>
            <div class="flex−container">
                <div
                    v−for="(card, index) in pictureCards"
                    :key="index"
                    @click="clickMethod(index)"
                >
                    <img v−if="isDiscovered(index)" :src="background" />
                    <img v−else−if="isActiveRowColumn(index)" :src="card.pic" />
                    <img v−else : src="card.pic" class="blur" />
                </div>
            </div>
        </div>
    </body>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script>
        var app = new Vue({
            el: '#app',
            data: {
                scorePlayer1: 0,
                scorePlayer2: 0,
                activeRow: 4,
                activeColumn: 4,
                activePlayer: 0,
                background: 'img/invis.gif',
                pictureCards: [] ,
                discoveredCards: 0,
                gridSize: 8
            },
            methods : {
                getColumnIndex(index) { return index % this.gridSize; },
                getRowIndex(index) { return Math.floor(index / this.gridSize); },
                isActiveRowColumn ( index ) {
                    if (this.activePlayer == 0) {
                        return this.getRowIndex(index) == this.activeRow;
                    } else {
                        return this.getColumnIndex(index) == this.activeColumn;
                    }
                },
                isDiscovered(index) {
                    return this.pictureCards[index].discovered;
                },
                clickMethod(index) {
                    /* TODO: implement a/b) */
                },
                computerMove() {
                    /* TODO: implement b) */
                },
                maxColumnValue(columIndex) {
                    /* TODO: implement */
                },
                maxRowValue(rowIndex) {
                    /* TODO: implement */
                }
            },

            mounted() {
                const image_positives = [
                    { pic: 'img/p1.png', value: 1, discovered: false },
                    { pic: 'img/p2.png', value: 2, discovered: false },
                    { pic: 'img/p3.png', value: 3, discovered: false },
                    { pic: 'img/p4.png', value: 4, discovered: false },
                    { pic: 'img/p5.png', value: 5, discovered: false },
                    { pic: 'img/p6.png', value: 6, discovered: false },
                    { pic: 'img/p7.png', value: 7, discovered: false },
                    { pic: 'img/p8.png', value: 8, discovered: false },
                    { pic: 'img/p9.png', value: 9, discovered: false },
                    { pic: 'img/p10.png', value: 10, discovered: false }
                ];

                const image_negatives = [
                    { pic: 'img/m1.png', value: −1, discovered: false },
                    { pic: 'img/m2.png', value: −2, discovered: false },
                    { pic: 'img/m3.png', value: −3, discovered: false },
                    { pic: 'img/m4.png', value: −4, discovered: false },
                    { pic: 'img/m5.png', value: −5, discovered: false },
                    { pic: 'img/m6.png', value: −6, discovered: false },
                    { pic: 'img/m7.png', value: −7, discovered: false },
                    { pic: 'img/m8.png', value: −8, discovered: false },
                    { pic: 'img/m9.png', value: −9, discovered: false },
                    { pic: 'img/m10.png', value: −10, discovered: false },
                ];

                const images = new Array(this.gridSize * this.gridSize);
                for (var i = 0; i < images.length / 2; i++) {
                    images[i] = image_positives[Math.floor(Math.random() * image_positives.length)];
                    images[i+images.length/2] = image_negatives[Math.floor(Math.random() * image_negatives.length ) ];
                }
                const shuffleArray = array => {
                    for (let i = array.length − 1; i > 0; i−−) {
                        const j = Math.floor(Math.random() * (i + 1));
                        [array[i], array[j]] = [array[j], array[i]];
                    }
                }
                shuffleArray(images) ;
                this.pictureCards= JSON.parse(JSON.stringify(images));
            },
        });
    </script>
</html>

<style>
    img {
        width: 100px;
    }

    .blur{
        filter: opacity(50%);
    }

    .flex−container {
        display: flex;
        width: 840px;
        gap: 5px;
        justify−content: space-around;
        flex−flow: row wrap;
    }
</style>
